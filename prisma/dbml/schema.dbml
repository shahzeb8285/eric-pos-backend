//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table Config {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  key String [not null]
  value String [not null]
  merchant Merchant
  merchantId String
}

Table Merchant {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  configs Config [not null]
  name String [unique, not null]
  users User [not null]
  password String [not null]
}

Table User {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  username String [unique, not null]
  wallet Wallet
  incomingTransactions IncomingTransactions [not null]
  outgoingTransactions OutgoingTransactions [not null]
  walletId String [unique]
  merchantId String
  merchant Merchant
}

Table Admin {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  username String [unique, not null]
  password String [not null]
}

Table Wallet {
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  address String [pk]
  user User
  incomingTransactions IncomingTransactions [not null]
  outgoingTransactions OutgoingTransactions [not null]
  lastAssignedAt DateTime [not null]
  pathId Int [not null]
}

Table Settlements {
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  amount String [not null]
  txnHash String [pk]
  currencySymbol String [not null]
  fromAddress String [not null]
  toAddress String [not null]
}

Table OutgoingTransactions {
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  txnHash String [pk]
  toAddress String [not null]
  userId String
  user User
  amount String [not null]
  gasFee String
  currencySymbol String [not null]
  walletId String
  wallet Wallet
}

Table IncomingTransactions {
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  txnHash String [pk]
  fromAddress String [not null]
  userId String
  user User
  amount String [not null]
  gasFee String
  currencySymbol String [not null]
  walletId String
  wallet Wallet
}

Ref: Config.merchantId > Merchant.id

Ref: User.walletId - Wallet.address

Ref: User.merchantId > Merchant.id

Ref: OutgoingTransactions.userId > User.id

Ref: OutgoingTransactions.walletId > Wallet.address

Ref: IncomingTransactions.userId > User.id

Ref: IncomingTransactions.walletId > Wallet.address